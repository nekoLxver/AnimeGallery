let waifus = [
    ["images/mainpage/waify/horikita.jpg", "Suzune"],
    ['images/mainpage/waify/kushida.jpg', "Kikyou"],
    ['images/mainpage/waify/mai.jpg', "Mai"],
    ['images/mainpage/waify/megumin.jpg', "Megumin"],
    ['images/mainpage/waify/akame.jpg', "Akame"],
    ['images/mainpage/waify/mirai.jpg', "Mirai"],
    ['images/mainpage/waify/Maki.jpg', "Maki"],
    ['images/mainpage/waify/violet.jpg', "Violet"],
    ['images/mainpage/waify/hinata.jpg', "Hinata"],
    ['images/mainpage/waify/kiyoko.jpg', "Kiyoko"],
    ['images/mainpage/waify/chika.jpg', "Chika"],
    ['images/mainpage/waify/rem.jpg', "Rem"],
    ['images/mainpage/waify/tohsaka.jpg', "Rin"],
    ['images/mainpage/waify/erina.jpg', "Erina"],
    ['images/mainpage/waify/yuigahama.jpg', "Yui"]
];

let girls = [
    {
        girlImage: "images/gallerypage/megumin.jpg",
        girlName: "Megumin",
        girlDescr: "Megumin (めぐみん) is an Arch Wizard of the Crimson Demons in the Fantasy World, and is the first person to join Kazuma's party. She is one of the main characters of the KonoSuba series.",
    },
    {
        girlImage: "images/gallerypage/rem.jpg",
        girlName: "Rem",
        girlDescr: "Rem (レム) is a maid in service of Margrave Roswaal L Mathers alongside her sister, Ram. She is one of the main supporting characters of Re:Zero, with major roles in Arc 2, Arc 3, and Arc 7.",
    },
    {
        girlImage: "images/gallerypage/akame.jpeg",
        girlName: "Akame",
        girlDescr: "Akame (アカメ) is the titular heroine, alongside Tatsumi, and lead anti-heroine of the manga series Akame ga Kill!, as well as the main protagonist of the prequel manga Akame ga Kill! Zero.",
    },
    {
        girlImage: "images/gallerypage/hinata.jpg",
        girlName: "Hinata",
        girlDescr: "Hinata Uzumaki (うずまきヒナタ, Uzumaki Hinata, née Hyūga (日向)) is a kunoichi of Konohagakure. Formerly the heiress of the Hyūga clan, she lost the position upon being deemed unsuited for the responsibilities of leading the clan.",
    },
    {
        girlImage: "images/gallerypage/suzune.jpg",
        girlName: "Suzune",
        girlDescr: "Suzune Horikita (堀ほり北きた 鈴すず音ね, Horikita Suzune) is one of the main characters of the You-Zitsu series and the main heroine of the √Horikita spin-off manga. She is known to be the Student Council president of the school on the 1st Year Arc.",
    },
    {
        girlImage: "images/gallerypage/violet.jpeg",
        girlName: "Violet",
        girlDescr: "Violet Evergarden (ヴァイオレット・エヴァーガーデン, Vaioretto Evāgāden?) is the protagonist of the Violet Evergarden series. Violet is a former soldier who was enlisted in the Leidenschaftlich army and fought in the war, where she was treated as nothing more than a weapon.",
    },
    {
        girlImage: "images/gallerypage/yuigahama.jpeg",
        girlName: "Yui",
        girlDescr: "Yui Yuigahama (由比ヶ浜 結衣 Yuigahama Yui) is a student in Class 2F of Sōbu High School and the first official customer of the Service Club. She later becomes the third member of the Service Club.",
    },
    {
        girlImage: "images/gallerypage/erina.jpg",
        girlName: "Erina",
        girlDescr: `Erina Nakiri (薙な切きり えりな, Nakiri Erina) is one of the heroines and was sometimes a rival to Sōma Yukihira in Shokugeki no Soma. Wielding the best palate in the world, "God's Tongue" and a member of the illustrious Nakiri family.`,
    },
    {
        girlImage: "images/gallerypage/chika.jpg",
        girlName: "Chika",
        girlDescr: `Chika Fujiwara (藤原 千花ふじわら ちか) is one of the protagonists in the Kaguya-sama wa Kokurasetai series. She was a third-year high school student at Shuchi'in Academy, the secretary of the 67th and 68th Student Council.`,
    },
    {
        girlImage: "images/gallerypage/kiyoko.png",
        girlName: "Kiyoko",
        girlDescr: `Kiyoko Shimizu (Japanese: 清水しみず 潔子きよこ Shimizu Kiyoko) was a third-year student at Karasuno High, as well as one of the managers for the Karasuno boy's volleyball team for majority of the series.`,
    },
    {
        girlImage: "images/gallerypage/Maki.jpg",
        girlName: "Maki",
        girlDescr: `Maki Zenin (禪ぜん院いん真ま希き Zen'in Maki?) is a major supporting character in Jujutsu Kaisen and one of the main protagonists of its prequel, Jujutsu Kaisen 0: Jujutsu High. She is currently a second-year at Tokyo Jujutsu High.`,
    },
    {
        girlImage: "images/gallerypage/mirai.jpg",
        girlName: "Mirai",
        girlDescr: `Mirai Kuriyama (栗山 未来, Kuriyama Mirai ) is the deuteragonist of Kyoukai no Kanata, she's a first-year student and a member of the school's Literature Club. Mirai comes from a bloodline of Spirit World Warriors.`,
    },
    {
        girlImage: "images/gallerypage/rin.jpg",
        girlName: "Rin",
        girlDescr: `Rin Tohsaka (遠坂 凛, Tōsaka Rin?) is one of the three main heroines of Fate/stay night who acts as the Master of Archer in the Fifth Holy Grail War. She is the current head of the Tohsaka family and the older sister of Sakura Matou.`,
    },
    {
        girlImage: "images/gallerypage/kikyou.jpeg",
        girlName: "Kikyou",
        girlDescr: `Kikyō Kushida (櫛くし田だ 桔き梗きょう, Kushida Kikyō) is one of the main characters of the You-Zitsu series. She is a student of Class 1-D. She is quite popular in her class as well as the whole school as she aims to befriend everyone.`,
    },
    {
        girlImage: "images/gallerypage/mai.jpeg",
        girlName: "Mai",
        girlDescr: `Mai Sakurajima (桜島 麻衣, Sakurajima Mai) is the main heroine of the Seishun Buta Yarou wa Bunny Girl Senpai no Yume wo Minai series. She is a notable actress/model and a third year at Minegahara High School.`,
    },
    
];

let usedNums = [];
let main = document.querySelector("main");
let randomNum = 0;
let lastRandomNum = 0;
let lastNum;
let generatorBtn = document.getElementById("genBtn");
let waifyImage = document.querySelector(".generator-image");
let waifyName = document.querySelector(".generator-heading");
let mainImage = document.querySelector(".main-image");
let closeBtn;
let popupWindow;
let socialsBtn = document.querySelector(".socials-hover")
let socialsWindow = document.querySelector(".socials");

socialsBtn.addEventListener("click", function() {

    main.style.pointerEvents = "none";
    socialsBtn.style.pointerEvents = "none";
    main.style.opacity = 0.8;
    socialsWindow.style.display = "flex";
    let socialsCloseBtn = document.querySelector(".btn-close");
    socialsCloseBtn.addEventListener("click", function() {
        socialsWindow.style.display = "none";
        main.style.opacity = 1;
        main.style.pointerEvents = "auto";
        socialsBtn.style.pointerEvents = "auto";
    })

})

generatorBtn.addEventListener("click", function(e) {
    e.preventDefault();

    if (usedNums.length == waifus.length) {
        lastNum = usedNums[waifus.length - 1];
        console.log(lastNum, "last num");
        usedNums = [];
    }

    do {
        randomNum = Math.trunc(Math.random() * waifus.length);
    } while(usedNums.includes(randomNum) && usedNums.length != waifus.length || lastNum == randomNum);

    usedNums.push(randomNum);

    waifyImage.src = waifus[randomNum][0];
    waifyName.textContent = waifus[randomNum][1];

    console.log(usedNums);
    console.log(randomNum);
    lastNum = null;
})

waifyImage.addEventListener("click", function() {

    let currentWaifu;

    for (let object of girls) {
        if (object.girlName == waifyName.textContent) {
            currentWaifu = object;
        }
    }

    if (currentWaifu) {
        waifyName.style.display = "none";
        waifyImage.style.display = "none";
        mainImage.style.display = "none";
        generatorBtn.style.display ="none";
        main.insertAdjacentHTML("afterbegin", `
        <div class="main-popup-window">
        <div class="col-lg-4">
            <button class="btn btn-close btnCloseGenerator"></button>
            <div class="card text-white mb-3" style="width: 300;">
                <img src=${currentWaifu.girlImage} class="card-img-top" alt="...">
                <div class="card-body">
                    <h5 class="card-title">${currentWaifu.girlName}</h5>
                    <p class="card-text">${currentWaifu.girlDescr}</p>
                    <a href="gallery.html" class="btn btn-danger" style="display:block">Go to the gallery!</a>
                </div>
            </div>
        </div>
        </div>
        `);
        popupWindow = document.querySelector(".main-popup-window")
        closeBtn = document.querySelector(".btnCloseGenerator");
        closeBtn.addEventListener("click", function() {
            waifyName.style.display = "block";
            waifyImage.style.display = "block";
            mainImage.style.display = "block";
            generatorBtn.style.display ="block";
            main.style.opacity = 1;
            popupWindow.remove();
        })
    }
})



